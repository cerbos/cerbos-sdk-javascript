unreleased:
  type: minor

  added:
    - summary: Support for additional [request context](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.RequestContext.html)
      details: Requires a policy decision point server running Cerbos 0.51+.
      pull: 1344

    - summary: Support for [versioned role policies](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.RolePolicyBody.html#version)
      details: Requires a policy decision point server running Cerbos 0.51+.
      pull: 1344

  bumped:
    "@bufbuild/protobuf":
      to: 2.11.0
      pull: 1355

releases:
  - version: 0.27.1
    date: 2026-01-12

    changed:
      - summary: Migrate documentation to TypeDoc
        pull: 1332

    bumped:
      "@cerbos/api":
        to: 0.5.1
        pull: 1340

  - version: 0.27.0
    date: 2026-01-07

    changed:
      - summary: Convert package to ESM
        pull: 1330

    bumped:
      "@bufbuild/protobuf":
        to: 2.10.2
        pull: 1320

      "@cerbos/api":
        to: 0.5.0
        pull: 1331

  - version: 0.26.0
    date: 2025-12-12

    added:
      - summary: "[`Awaitable`](https://cerbos.github.io/cerbos-sdk-javascript/types/_cerbos_core.Awaitable.html) type"
        pull: 1312

      - summary: "[`PolicySourceHubEmbeddedBundle`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.PolicySourceHubEmbeddedBundle.html) type"
        pull: 1310

    changed:
      - summary: Make [`DecisionLogEntryPlanResources.output`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.DecisionLogEntryPlanResources.html#output) optional
        details: If an error was encountered while evaluating the `PlanResources` call, there may be no output.
        pull: 1311

    bumped:
      "@cerbos/api":
        to: 0.4.0
        pull: 1313

  - version: 0.25.2
    date: 2025-11-20

    bumped:
      "@bufbuild/protobuf":
        to: 2.10.1
        pull: 1281

      "@cerbos/api":
        to: 0.3.0
        pull: 1288

  - version: 0.25.1
    date: 2025-11-12

    bumped:
      "@cerbos/api":
        to: 0.2.0
        pull: 1280

  - version: 0.25.0
    date: 2025-11-07

    changed:
      - summary: Migrate to `protoc-gen-es` and extract generated code to its own package
        pull: 1271

  - version: 0.24.1
    date: 2025-09-15

    bumped:
      uuid:
        to: 13.0.0
        pull: 1229

  - version: 0.24.0
    date: 2025-08-11

    added:
      - summary: "[`AccessLogEntry.policySource`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.AccessLogEntry.html#policysource) and [`DecisionLogEntry.policySource`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.DecisionLogEntry.html#policysource) properties"
        details: Requires a policy decision point server running Cerbos 0.46+.
        pull: 1193

      - summary: Include [scope permissions](https://docs.cerbos.dev/cerbos/latest/policies/scope_permissions) when retrieving resource and principal policies via the Admin API
        pull: 1201

    removed:
      - summary: Support for scope permissions in role policies
        pull: 1201

  - version: 0.23.0
    date: 2025-07-02

    added:
      - summary: Internal exports to support policy serialization
        pull: 1174

  - version: 0.22.0
    date: 2025-06-02

    added:
      - summary: Support for multiple actions in [`Client.planResources`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#planresources)
        details: Requires a policy decision point server running Cerbos 0.44+.
        pull: 1146

      - summary: "[`AccessLogEntry.oversized`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.AccessLogEntry.html#oversized) and [`DecisionLogEntry.oversized`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.DecisionLogEntry.html#oversized) properties"
        pull: 1165

    removed:
      - summary: Support for Node.js 18, which is now [end-of-life][nodejs-eol]
        pull: 1166

  - version: 0.21.1
    date: 2025-03-12

    bumped:
      uuid:
        to: 11.1.0
        pull: 1107

  - version: 0.21.0
    date: 2025-02-13

    added:
      - summary: Internal exports to support audit logging in embedded policy decision points
        pull: 1091

  - version: 0.20.0
    date: 2025-02-06

    added:
      - summary: "[`Client.checkHealth`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#checkhealth) method to check the health of services provided by the policy decision point server"
        pull: 1085

    bumped:
      uuid:
        to: 11.0.5
        pull: 1069

  - version: 0.19.0
    date: 2024-11-27

    added:
      - summary: "[`Client.inspectPolicies`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#inspectpolicies) method to inspect policy details"
        details: Requires a policy decision point server running Cerbos 0.35+.
        pull: 1051

      - summary: Support for filtering [`Client.listPolicies`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#listpolicies) results by policy ID
        details: Requires a policy decision point server running Cerbos 0.37+.
        pull: 1051

      - summary: Support for [constants](https://docs.cerbos.dev/cerbos/latest/policies/variables#constants)
        details: Requires a policy decision point server running Cerbos 0.40+.
        pull: 1051

    changed:
      - summary: Stop adding explicit `undefined`s in `Record` values
        details: TypeScript provides the [`noUncheckedIndexedAccess`](https://www.typescriptlang.org/tsconfig/#noUncheckedIndexedAccess) compiler option for this purpose.
        pull: 1051

    bumped:
      uuid:
        to: 11.0.3
        pulls: [1037, 1043]

  - version: 0.18.1
    date: 2024-06-11

    bumped:
      uuid:
        to: 10.0.0
        pull: 965

  - version: 0.18.0
    date: 2024-05-15

    added:
      - summary: Support for fetching audit logs
        details: |-
          - [`Client.getAccessLogEntry`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#getaccesslogentry) method
          - [`Client.getDecisionLogEntry`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#getdecisionlogentry) method
          - [`Client.listAccessLogEntries`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#listaccesslogentries) method
          - [`Client.listDecisionLogEntries`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#listdecisionlogentries) method
          - [`CheckResourcesResponse.cerbosCallId`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.CheckResourcesResponse.html#cerboscallid) property
          - [`PlanResourcesResponse.cerbosCallId`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.PlanResourcesResponseBase.html#cerboscallid) property
        pull: 945

  - version: 0.17.1
    date: 2024-04-23

    changed:
      - summary: Support legacy Node.js module resolution and place `default` export last
        pull: 937

  - version: 0.17.0
    date: 2024-04-12

    added:
      - summary: "[`Client.withPrincipal`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#withprincipal) method to create a client instance with a pre-specified principal"
        pulls: [868, 877]

      - summary: "[`signal`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.RequestOptions.html#signal) option to all methods, so that requests can be aborted using an [`AbortSignal`](https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal)"
        pull: 894

    changed:
      - summary: Publish package from GitHub Actions and [generate provenance statement](https://docs.npmjs.com/generating-provenance-statements)
        pull: 852

      - summary: Prevent importing package internals
        pull: 867

  - version: 0.16.0
    date: 2024-02-29

    added:
      - summary: "[`Output.when`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.Output.html#when) to define [conditional policy rule outputs](https://docs.cerbos.dev/cerbos/latest/policies/outputs) using the Admin API"
        details: Requires a policy decision point server running Cerbos 0.33+.
        pull: 829

  - version: 0.15.0
    date: 2024-01-11

    added:
      - summary: "[`headers`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.Options.html#headers) and [`userAgent`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.Options.html#useragent) options to `Client` constructor, and [`headers`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.RequestOptions.html#headers) option to all methods"
        pull: 776

  - version: 0.14.0
    date: 2023-10-02

    changed:
      - summary: Use `attr` for principal and resource attributes
        details: |-
          This makes the API consistent with policy expressions.
          `attributes` is still supported for backwards compatibility, but is now deprecated.
        pull: 694

    bumped:
      uuid:
        to: 9.0.1
        pull: 672

    removed:
      - summary: Support for Node.js 16, which is now [end-of-life][nodejs-eol]
        pull: 669

  - version: 0.13.0
    date: 2023-08-16

    added:
      - summary: Support for OpenTelemetry span context propagation
        details: Requires a policy decision point server running Cerbos 0.30+, and [@cerbos/opentelemetry](../opentelemetry/README.md) 0.3+.
        pull: 638

  - version: 0.12.0
    date: 2023-07-18

    added:
      - summary: Support for filtering [`Client.listPolicies`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#listpolicies) results by policy name, scope, and version
        details: Requires a policy decision point server running Cerbos 0.29+.
        pull: 568

      - summary: Support for [exporting and importing variable sets](https://docs.cerbos.dev/cerbos/latest/policies/variables) in policies
        details: Requires a policy decision point server running Cerbos 0.29+.
        pull: 598

  - version: 0.11.0
    date: 2023-06-07

    added:
      - summary: Support for user-defined policy rule outputs
        details: Requires a policy decision point server running Cerbos 0.27+.
        pulls: [542, 543, 551]

    removed:
      - summary: Support for Node.js 14, which is now [end-of-life][nodejs-eol]
        pull: 521

  - version: 0.10.0
    date: 2023-04-18

    added:
      - summary: "[`includeDisabled`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.ListPoliciesRequest.html#includedisabled) option to [`Client.listPolicies`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#listpolicies) method to include disabled policies in the list"
        details: Requires a policy decision point server running Cerbos 0.26+.
        pull: 475

      - summary: "[`Client.enablePolicy`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#enablepolicy) and [`Client.enablePolicies`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#enablepolicies) methods to enable policies"
        details: Requires a policy decision point server running Cerbos 0.26+.
        pull: 475

  - version: 0.9.1
    date: 2023-03-23

    removed:
      - summary: Unused generated code
        pull: 480

  - version: 0.9.0
    date: 2023-02-15

    added:
      - summary: "[`Client.disablePolicy`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#disablepolicy) and [`Client.disablePolicies`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#disablepolicies) methods to disable policies"
        details: Requires a policy decision point server running Cerbos 0.25+.
        pull: 429

      - summary: "[OpenTelemetry](https://opentelemetry.io) support"
        pull: 438

    changed:
      - summary: "[`Client.deleteSchema`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#deleteschema) and [`Client.deleteSchemas`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#deleteschemas) now return whether schemas were deleted"
        details: Requires a policy decision point server running Cerbos 0.25+.
        pull: 429

      - summary: "[`Policy.metadata.storeIdentifer`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.PolicyMetadata.html#storeidentifer) is now deprecated, replaced by [`Policy.metadata.storeIdentifier`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.PolicyMetadata.html#storeidentifier)"
        pull: 439

  - version: 0.8.1
    date: 2022-11-24

    changed:
      - summary: Document principal and resource `attributes` fields in examples
        pull: 358

  - version: 0.8.0
    date: 2022-09-08

    added:
      - summary: "[`NotOK.fromJSON`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.NotOK.html#fromjson) factory method to parse JSON-serialized unsucessful responses"
        pull: 249

  - version: 0.7.1
    date: 2022-09-06

    bumped:
      uuid:
        to: 9.0.0
        pull: 245

  - version: 0.7.0
    date: 2022-08-24

    added:
      - summary: Support for the [admin API](https://docs.cerbos.dev/cerbos/latest/api/admin_api)
        pull: 209

  - version: 0.6.0
    date: 2022-07-01

    added:
      - summary: Support for schema validation in [`Client.planResources`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#planresources)
        details: |-
          Requires a policy decision point server running Cerbos 0.19+.
          [`PlanResourcesResponse.validationErrors`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.PlanResourcesResponseBase.html#validationerrors) will always be an empty array if the client is connected to an earlier version of Cerbos.
        pull: 123

  - version: 0.5.1
    date: 2022-06-09

    changed:
      - summary: Make README links relative to file to fix broken links on npmjs.com
        pull: 103

  - version: 0.5.0
    date: 2022-06-07

    added:
      - summary: Common types for gRPC and HTTP clients
        pull: 73

references:
  "@bufbuild/protobuf": https://github.com/bufbuild/protobuf-es
  "@cerbos/api": ../api/README.md
  nodejs-eol: https://github.com/nodejs/release#end-of-life-releases
  uuid: https://github.com/uuidjs/uuid

initialCommit: 138ce112e6b775902ddd3791faa8a763dad8614f
