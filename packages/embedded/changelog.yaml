unreleased:
  type: minor

  added:
    - summary: Support for additional [request context](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.RequestContext.html)
      pull: 1344

  bumped:
    "@bufbuild/protobuf":
      to: 2.11.0
      pull: 1355

releases:
  - version: 0.14.2
    date: 2026-01-22

    changed:
      - summary: Ignore unknown fields when parsing responses from the embedded policy decision point server
        pull: 1349

  - version: 0.14.1
    date: 2026-01-12

    changed:
      - summary: Migrate documentation to TypeDoc
        pull: 1332

    bumped:
      "@cerbos/api":
        to: 0.5.1
        pull: 1340

      "@cerbos/core":
        to: 0.27.1
        pull: 1340

  - version: 0.14.0
    date: 2026-01-07

    changed:
      - summary: Convert package to ESM
        pull: 1330

    bumped:
      "@bufbuild/protobuf":
        to: 2.10.2
        pull: 1320

      "@cerbos/api":
        to: 0.5.0
        pull: 1331

      "@cerbos/core":
        to: 0.27.0
        pull: 1331

  - version: 0.13.5
    date: 2025-12-12

    changed:
      - summary: Stop duplicating `user-agent` between `metadata` and `peer` in decision log entries
        pull: 1312

    bumped:
      "@cerbos/api":
        to: 0.4.0
        pull: 1313

      "@cerbos/core":
        to: 0.26.0
        pull: 1313

      ulid:
        to: 3.0.2
        pull: 1305

  - version: 0.13.4
    date: 2025-11-20

    bumped:
      "@bufbuild/protobuf":
        to: 2.10.1
        pull: 1281

      "@cerbos/api":
        to: 0.3.0
        pull: 1288

      "@cerbos/core":
        to: 0.25.2
        pull: 1288

  - version: 0.13.3
    date: 2025-11-12

    bumped:
      "@cerbos/api":
        to: 0.2.0
        pull: 1280

      "@cerbos/core":
        to: 0.25.1
        pull: 1280

  - version: 0.13.2
    date: 2025-11-07

    changed:
      - summary: Migrate to `protoc-gen-es` and extract generated code to its own package
        pull: 1271

    bumped:
      "@cerbos/core":
        to: 0.25.0
        pull: 1273

  - version: 0.13.1
    date: 2025-09-15

    bumped:
      "@cerbos/core":
        to: 0.24.1
        pull: 1233

  - version: 0.13.0
    date: 2025-08-11

    added:
      - summary: Set [`policySource`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.DecisionLogEntry.html#policysource) on log entries passed to [`onDecision`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_embedded.Options.html#ondecision)
        pull: 1193

    bumped:
      "@cerbos/core":
        to: 0.24.0
        pull: 1208

  - version: 0.12.1
    date: 2025-07-02

    bumped:
      "@cerbos/core":
        to: 0.23.0
        pull: 1192

      ulid:
        to: 3.0.1
        pull: 1177

  - version: 0.12.0
    date: 2025-06-02

    bumped:
      "@cerbos/core":
        to: 0.22.0
        pull: 1167

      ulid:
        to: 3.0.0
        pulls: [1127, 1133]

    removed:
      - summary: Support for Node.js 18, which is now [end-of-life][nodejs-eol]
        pull: 1166

  - version: 0.11.1
    date: 2025-03-12

    bumped:
      "@cerbos/core":
        to: 0.21.1
        pull: 1121

  - version: 0.11.0
    date: 2025-02-19

    added:
      - summary: "[`defaultPolicyVersion`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_embedded.Options.html#defaultpolicyversion) and [`lenientScopeSearch`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_embedded.Options.html#lenientscopesearch) engine configuration options"
        pull: 1101

  - version: 0.10.0
    date: 2025-02-13

    added:
      - summary: "[`onDecision`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_embedded.Options.html#ondecision) callback to support audit logging"
        pull: 1091

    changed:
      - summary: Accept async callbacks for [`onLoad`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_embedded.Options.html#onload) and [`onError`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_embedded.Options.html#onerror)
        pull: 1091

      - summary: Omit metadata from `checkResources` responses if [`includeMetadata`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_core.CheckResourcesRequest.html#includemetadata) is `false`
        pull: 1092

    bumped:
      "@cerbos/core":
        to: 0.21.0
        pull: 1097

  - version: 0.9.2
    date: 2025-02-06

    bumped:
      "@cerbos/core":
        to: 0.20.0
        pull: 1086

  - version: 0.9.1
    date: 2024-11-27

    bumped:
      "@cerbos/core":
        to: 0.19.0
        pull: 1053

  - version: 0.9.0
    date: 2024-10-30

    added:
      - summary: "[`BundleMetadata.sourceAttributes`](https://cerbos.github.io/cerbos-sdk-javascript/interfaces/_cerbos_embedded.BundleMetadata.html#sourceattributes) property mapping IDs of policies included in the bundle to metadata about their sources"
        pull: 1033

  - version: 0.8.0
    date: 2024-09-23

    added:
      - summary: Support for loading a precompiled `WebAssembly.Module`
        pull: 1016

  - version: 0.7.3
    date: 2024-06-11

    changed:
      - summary: Cancel unused response bodies
        pull: 956

    bumped:
      "@cerbos/core":
        to: 0.18.1
        pull: 969

  - version: 0.7.2
    date: 2024-05-15

    bumped:
      "@cerbos/core":
        to: 0.18.0
        pull: 951

  - version: 0.7.1
    date: 2024-04-23

    changed:
      - summary: Support legacy Node.js module resolution and place `default` export last
        pull: 937

    bumped:
      "@cerbos/core":
        to: 0.17.1
        pull: 938

  - version: 0.7.0
    date: 2024-04-12

    added:
      - summary: "[`Client.withPrincipal`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_core.Client.html#withprincipal) method to create a client instance with a pre-specified principal"
        pulls: [868, 877]

      - summary: "[`AutoUpdatingLoader`](https://cerbos.github.io/cerbos-sdk-javascript/classes/_cerbos_embedded.AutoUpdatingLoader.html) class to automatically update embedded policy decision point bundles"
        pull: 915

    changed:
      - summary: Publish package from GitHub Actions and [generate provenance statement](https://docs.npmjs.com/generating-provenance-statements)
        pull: 852

      - summary: Prevent importing package internals
        pull: 867

    bumped:
      "@cerbos/core":
        to: 0.17.0
        pull: 929

  - version: 0.6.3
    date: 2024-02-29

    bumped:
      "@cerbos/core":
        to: 0.16.0
        pull: 835

  - version: 0.6.2
    date: 2024-02-26

    changed:
      - summary: Allow promises of binary data in [Source](https://cerbos.github.io/cerbos-sdk-javascript/types/_cerbos_embedded.Source.html) type
        pull: 824

  - version: 0.6.1
    date: 2024-01-11

    bumped:
      "@cerbos/core":
        to: 0.15.0
        pull: 781

  - version: 0.6.0
    date: 2023-12-08

    changed:
      - summary: Renamed client class from `Lite` to `Embedded`
        pull: 755

    renamedPackage:
      from: "@cerbos/lite"
      pull: 755

  - version: 0.5.0-beta
    date: 2023-10-02

    changed:
      - summary: Use `attr` for principal and resource attributes
        details: |-
          This makes the API consistent with policy expressions.
          `attributes` is still supported for backwards compatibility, but is now deprecated.
        pull: 694

    bumped:
      "@cerbos/core":
        to: 0.14.0
        pull: 695

    removed:
      - summary: Support for Node.js 16, which is now [end-of-life][nodejs-eol]
        pull: 669

  - version: 0.4.1-beta
    date: 2023-08-16

    bumped:
      "@cerbos/core":
        to: 0.13.0
        pull: 645

  - version: 0.4.0-beta
    date: 2023-08-01

    added:
      - summary: Support for [globals](https://docs.cerbos.dev/cerbos/latest/configuration/engine#globals)
        pull: 619

  - version: 0.3.1-alpha
    date: 2023-07-18

    bumped:
      "@cerbos/core":
        to: 0.12.0
        pull: 599

    removed:
      - summary: Unused generated code
        pull: 606

  - version: 0.3.0-alpha
    date: 2023-06-07

    bumped:
      "@cerbos/core":
        to: 0.11.0
        pull: 550

    removed:
      - summary: Support for Node.js 14, which is now [end-of-life][nodejs-eol]
        pull: 521

  - version: 0.2.2-alpha
    date: 2023-04-18

    bumped:
      "@cerbos/core":
        to: 0.10.0
        pull: 506

  - version: 0.2.1-alpha
    date: 2023-03-23

    bumped:
      "@cerbos/core":
        to: 0.9.1
        pull: 481

    removed:
      - summary: Unused generated code
        pull: 480

  - version: 0.2.0-alpha
    date: 2023-02-15

    added:
      - summary: "[OpenTelemetry](https://opentelemetry.io) support"
        pull: 438

    bumped:
      "@cerbos/core":
        to: 0.9.0
        pull: 446

  - version: 0.1.1-alpha
    date: 2022-11-24

    changed:
      - summary: Document principal and resource `attributes` fields in examples
        pull: 358

    bumped:
      "@cerbos/core":
        to: 0.8.1
        pull: 359

  - version: 0.1.0-alpha
    date: 2022-09-08

    added:
      - summary: Lite client for interacting with a WebAssembly Cerbos policy bundle
        pull: 249

references:
  "@bufbuild/protobuf": https://github.com/bufbuild/protobuf-es
  "@cerbos/api": ../api/README.md
  "@cerbos/core": ../core/README.md
  nodejs-eol: https://github.com/nodejs/release#end-of-life-releases
  ulid: https://github.com/ulid/javascript

initialCommit: a3dcb572e0eeff4c4d86c9cc66c1d0c7e59c4853
